(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{38:function(e,t,a){e.exports={container:"MovieElement_container__27wwB"}},41:function(e,t,a){e.exports={container:"FavoriElement_container__3XW-5"}},43:function(e,t,a){e.exports=a(71)},48:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(37),i=a.n(o),l=(a(48),a(4)),s=a(5),c=a(7),m=a(6),v=a(17),u=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand",href:"/movies/film"},"Films"),r.a.createElement("button",{className:"navbar-toggler"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(v.b,{to:"/movies/film",className:"nav-link",activeClassName:"active"}," Films ")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(v.b,{to:"/movies/favoris",className:"nav-link",activeClassName:"active"}," Favoris ")))))}}]),a}(n.Component),f=function(){return r.a.createElement("div",{style:{minHeight:"100vh"},className:"d-flex flex-row justify-content-center align-items-center w-100"},r.a.createElement("img",{alt:"loading gif",src:"https://i.redd.it/ounq1mw5kdxy.gif"}))},d=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"w-25 bg-light p-4 d-flex flex-column"},r.a.createElement("h5",null,this.props.movie.title),r.a.createElement("hr",{className:"w-100"}),r.a.createElement("div",null,r.a.createElement("img",{alt:"movie",className:"mx-auto d-block w-100",src:this.props.movie.img})),r.a.createElement("hr",{className:"w-100"}),r.a.createElement("p",{className:"text-secondary"},this.props.movie.details),r.a.createElement("p",null,this.props.movie.description))}}]),a}(n.Component),p=a(38),h=a.n(p),b=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).mouseEnter=function(){e.props.updateSelectedMovie(e.props.movie.title)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{onClick:this.mouseEnter,className:"d-flex flex-row bg-light "+h.a.container},r.a.createElement("img",{alt:"film",width:"185",src:this.props.movie.img}),r.a.createElement("div",{className:"flex-fill d-flex flex-column p-3"},r.a.createElement("h5",null,this.props.movie.title),r.a.createElement("hr",{className:"w-100"}),r.a.createElement("p",{className:"flex-fill"},this.props.movie.details),r.a.createElement("div",{className:"d-flex flex-row justify-content-end"},this.props.isFavori?r.a.createElement("button",{onClick:function(){e.props.removeFavori(e.props.movie.title)},className:"btn btn-small btn-danger"},"Remove"):r.a.createElement("button",{onClick:function(){e.props.addFavori(e.props.movie.title)},className:"btn btn-small btn-primary"},"Add"))))}}]),a}(n.Component),E=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"w-75 d-flex flex-row flex-wrap justify-content-center"},this.props.movies.map((function(t,a){return r.a.createElement(b,{key:t.title+a,movie:t,isFavori:e.props.favoris.includes(t.title),addFavori:e.props.addFavori,removeFavori:e.props.removeFavori,updateSelectedMovie:function(){e.props.updateSelectedMovie(a)}})})))}}]),a}(n.Component),g=a(42),x=a(21),N=x.create({baseURL:"https://api.themoviedb.org/4"});N.interceptors.request.use((function(e){return e.headers.Authorization="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwY2YyMDg2MTljZjQ0Y2E0OTEwOTAzN2Q3NWE2NGNkZiIsInN1YiI6IjVlYjk1ZGFiN2QyYmMxMDAxZDAwMzI5NyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.MrZiwPBOYYIMuZt3TOoboF-eOa6KBMo8atx-BRQqlJo",e}));var j=N,w=function(e){return{img:"https://image.tmdb.org/t/p/w500"+e.poster_path,title:e.title,details:"".concat(e.release_date," | ").concat(e.vote_average,"/10 (").concat(e.vote_count,")"),description:e.overview}},y=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).submit=function(t,a){var n="?"+Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e],"&")})).join("");j.get("/search/movie"+n).then((function(e){return e.data.results})).then((function(t){var n=t.map(w);e.props.updateMovies(n),a.setSubmitting(!1)})).catch((function(e){return console.log(e)}))},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(g.a,{onSubmit:this.submit,initialValues:{query:"",language:"en-US"}},(function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleBlur,o=e.isSubmitting;return r.a.createElement("form",{className:"d-flex flex-row p-2 m-2",onSubmit:t},r.a.createElement("input",{name:"query",className:"flex-fill form-control mr-2",placeholder:"Search ...",onChange:a,onBlur:n}),r.a.createElement("select",{className:"mr-2 form-control w-25",name:"language",onChange:a,onBlur:n},r.a.createElement("option",{value:"en-US"}," Anglais "),r.a.createElement("option",{value:"fr-FR"}," Francais ")),r.a.createElement("button",{className:"btn btn-small btn-success",type:"submit",disabled:o},"Submit"))}))}}]),a}(n.Component),O=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{updateMovies:e.updateMovies}),e.loaded?r.a.createElement("div",{className:"d-flex flex-row flex-fill pt-4 p-2"},r.a.createElement(E,{movies:e.movies,updateSelectedMovie:e.updateSelectedMovie,favoris:e.favoris.map((function(e){return e.title})),removeFavori:e.removeFavori,addFavori:e.addFavori}),r.a.createElement(d,{movie:e.movies[e.selectedMovie]})):r.a.createElement(f,null))},F=a(41),M=a.n(F),k=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"d-flex flex-row bg-light "+M.a.container},r.a.createElement("img",{alt:"film",width:"185",src:this.props.favori.img}),r.a.createElement("div",{className:"flex-fill d-flex flex-column p-3"},r.a.createElement("h5",null,this.props.favori.title),r.a.createElement("hr",{className:"w-100"}),r.a.createElement("p",{className:"flex-fill"},this.props.favori.details),r.a.createElement("div",{className:"d-flex flex-row justify-content-end"},r.a.createElement("button",{onClick:function(){e.props.removeFavori(e.props.favori.title)},className:"btn btn-small btn-danger"},"Remove"))))}}]),a}(n.Component),S=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"w-75 d-flex flex-row flex-wrap justify-content-center"},this.props.favoris.map((function(t,a){return r.a.createElement(k,{key:t.title+a,favori:t,removeFavori:e.props.removeFavori})})))}}]),a}(n.Component),C=function(e){return r.a.createElement("div",{className:"d-flex flex-row flex-fill pt-4 p-2"},e.loaded?r.a.createElement("div",{className:"d-flex flex-row flex-fill pt-4 p-2"},r.a.createElement(S,{favoris:e.favoris,removeFavori:e.removeFavori})):r.a.createElement(f,null))},I=x.create({baseURL:"https://films-cb930.firebaseio.com/"}),B=a(1),J=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).updateSelectedMovie=function(e){n.setState({selectedMovie:e})},n.updateMovies=function(e){n.setState({movies:e,loaded:!!n.state.favoris})},n.updateFavori=function(e){n.setState({favoris:e,loaded:!!n.state.movies})},n.addFavori=function(e){var t=n.state.favoris.slice(),a=n.state.movies.find((function(t){return t.title===e}));t.push(a),n.setState({favoris:t},(function(){n.saveFavoris()}))},n.removeFavori=function(e){var t=n.state.favoris.slice(),a=n.state.favoris.findIndex((function(t){return t.title===e}));t.splice(a,1),n.setState({favoris:t},(function(){n.saveFavoris()}))},n.saveFavoris=function(){I.put("favoris.json",n.state.favoris)},n.state={movies:null,selectedMovie:0,loaded:!1,favoris:null},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;j.get("/discover/movie").then((function(e){return e.data.results})).then((function(t){var a=t.map(w);e.updateMovies(a)})).catch((function(e){return console.log(e)})),I.get("favoris.json").then((function(t){var a=t.data?t.data:[];e.updateFavori(a)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(v.a,null,r.a.createElement("div",{className:"App d-flex flex-column"},r.a.createElement(u,null),r.a.createElement(B.d,null,r.a.createElement(B.b,{path:"/movies",render:function(t){return r.a.createElement(O,Object.assign({},t,{loaded:e.state.loaded,updateMovies:e.updateMovies,updateSelectedMovie:e.updateSelectedMovie,movies:e.state.movies,selectedMovie:e.state.selectedMovie,addFavori:e.addFavori,removeFavori:e.removeFavori,favoris:e.state.favoris}))}}),r.a.createElement(B.b,{path:"/movies/favoris",render:function(t){return r.a.createElement(C,Object.assign({},t,{loaded:e.state.loaded,favoris:e.state.favoris,removeFavori:e.removeFavori}))}}),r.a.createElement(B.a,{to:"/movies"}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.71de508f.chunk.js.map